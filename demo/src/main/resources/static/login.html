<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>로그인</title>
	</head>
	<body>
		<form id="login">
			<input type="text" id="id" name="id"><br>
			<input type="password" id="pw" name="pw"><br>
			<button type="submit">로그인</button>
		</form>
	</body>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script>
		$("#login").on("submit", function (e) {
			e.preventDefault(); // 기본 폼 제출 방지

			const id = $("#id").val();
			const pw = $("#pw").val();

			// 서버로 AJAX 요청
			$.ajax({
				url: "/login",
				method: "POST",
				contentType: "application/json",
				data: JSON.stringify({ id, pw }),
				success: function (response) {
					if (response) {
						alert("로그인 성공");
						window.location.href = "/index.html";
					} else {
						alert("아이디와 비밀번호를 확인해주세요");
					}
				},
				error: function () {
					alert("에러 발생");
				},
			});
	});
	</script>
</html>